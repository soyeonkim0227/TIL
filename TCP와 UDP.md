# TCP와 UDP
: TCP와 UDP는 OSI 표준 모델과 TCP/IP 모델의 전송계층에서 사용되는 프로토콜이다.

**= 전송 계층에서 사용되는 프로토콜**

## 용어 정리
🐻 **전송계층이란?**<br>
- 송신자와 수신자를 연결하는 통신 서비스를 제공<br>
- IP에 의해 전달되는 패킷의 오류를 검사하며 재전송 요구 제어 등을 담당하는 계층<br>
⇒ 데이터의 전달을 담당

**패킷?**
- 특정 형태를 맞추어 정보를 보내서 컴퓨터 간에 데이터를 주고 받을 때 네트워크를 통해 전송되는 **데이터 조각**

**TCP/IP는 또 뭘까..**
- 통신 규칙의 모음
- 이러한 규칙이나 프로토콜이 적용되는 특정한 조건을 의미

## TCP
![TCP](https://github.com/soyeonkim0227/TIL/assets/102784901/0cdc46f3-5338-41a0-b6da-49711831e3ee)


### 🥨 **개념**

- **T**ransmission **C**ontrol **P**rotocol
- 연결 지향적 프로토콜
    - : 클라이언트와 서버가 **연결된 상태에서** 데이터를 **주고받는** 프로토콜을 의미

### 🥨 과정

- 클라이언트가 연결 요청(**SYN** 데이터 전송) → 서버가 연결을 수락하면 통신 선로가 고정됨. → 모든 데이터는 고정된 통신 선로를 통해서 **순차적으로** 전달됨.
- 패킷을 성공적으로 전송하면 **ACK**라는 신호를 날림 → if (ACK 신호가 제 시간에 도착하지 않음) → Timeout이 발생하여 패킷 손실이 발생한 패킷을 다시 전송해줌.

### 🥨 특징

- **연결이 성공해야 통신이 가능**
- 데이터의 경계를 구분하지 X
- 데이터의 전송 순서를 보장 (데이터의 순서 유지를 위해 각 바이트마다 번호를 부여)

### 🥨 장점

- 데이터를 정확하고 안정적으로 전달해준다. (신뢰성)
- 데이터 **흐름 제어** 및 **혼잡 제어**

### 🥨 단점

- 데이터로 보내기 전에 반드시 연결이 형성되어야 한다.
- 1:1 통신만 가능하다.
- 고정된 통신 선로가 최단선(네트워크 길이)이 아닐 경우 상대적으로 UDP보다 데이터 **전송 속도가 느리다.**

## UDP
### 🥨 개념

- **U**ser **D**atagram **P**rotocol
- 비연결 지향적 프로토콜
    - : 데이터를 주고받을 때 **연결 절차를 거치지 않고** 발신자가 **일방적으로** 데이터를 발신하는 방식

### 🥨 특징

- 데이터 경계를 구분
- 정보를 주고 받을 때 정보를 보내거나 받는다는 신호절차를 거치지 X.
- 패킷 관리 필요

### 🥨 장점

- 상대적으로 TCP보다 전송 속도가 빠르다.
- 패킷 오버헤드 ⬇️ → 네트워크 부하가 감소한다.

### 🥨 단점

- 데이터의 **신뢰성**이 없다.
- 중간에 패킷이 유실되거나 변조가 되어도 재전송 X.
- 의미있는 서버를 구축하기 위해서는 **일일이 패킷을 관리**해주어야 한다.

## TCP와 UDP 비교
![TCP와 UDP](https://github.com/soyeonkim0227/TIL/assets/102784901/61b5c35c-afda-4111-a3c7-8857a9ad9d9e)


### 🥨 공통점

- **포트 번호**를 이용하여 **주소**를 지정
- 데이터 오류 검사를 위한 체크섬 존재

### 🥨 차이점

|  | TCP | UDP |
| --- | --- | --- |
| 연결 방식 | 연결형 서비스 | 비연결형 서비스 |
| 패킷 교환 방식 | 가상 회선 방식 | 데이터그램 방식 |
| 전송 순서 | 전송 순서 보장 | 전송 순서가 바뀔 수 있음 |
| 수신 여부 확인 | 확인 O | 확인 X |
| 통신 방식 | 1:1 통신만 가능 | 1:1 / 1:N / N:N 통신 모두 가능 |
| 신뢰성 | 높음 | 낮음 |
| 속도 | 느림 | 빠름 |

### 결론!

💣 정확성을 추구 → **TCP**!
신속성을 추구 → **UDP**!
