### 요약

<aside>
💡 - 중요도에 따라 계층을 나눔.

</aside>

- 기존의 계층형 아키텍쳐가 가지던 의존성에서 벗어나게 하는 설계를 제공함.
- 외부 인터페이스에 독립적으로 구현할 수 있도록 함.
- 확장 가능하고 테스트가 가능한 프로그램(TDD)을 만드는 것에 용이한 구조를 제공함.
- 이 아키텍처는 바깥 레이어가 정해지지 않아도 서비스를 구축해나갈 수 있도록 하는 것을 목표로 함.

- 계층형 아키텍처의 의존성은 항상 다음 계층(아래 방향)을 가리킴.
- 반대로, 클린 아키텍처의 의존성은 원 안쪽을 향함.
    - 즉, 바깥쪽 원에 해당하는 어떠한 것들도 안쪽 원에는 영향을 주지 않음.
    

## 중요 기준

---

- 내부 데이터와 로직들은 안쪽을 향해야 함.
- 요청은 안쪽으로 들어와 바깥쪽으로 나감.
    
    ⇒ 요청 진행 방향이 변화되는 경우는 존재하지 않음.
    
- DI(Dependency Injection): 인터페이스의 변경이 코드의 변화를 일으키지 않도록 함.
- DB, UI 등은 바뀌어도 프로그램 자체는 문제 없이 돌아가도록하는 세부 사항으로 취급함.

## 요소

---

![클린아키텍처](https://github.com/soyeonkim0227/TIL/assets/102784901/bb3c9d3f-bde8-487b-8d71-49e507ccaa2e)

클린 아키텍처 다이어그램

- **바깥쪽 원**에 위치할 수록 중요하지 않고 **언제든 바뀔 수 있는 세부사항으로 취급**함.
- **중요도**에 따라 계층을 나눔.

### Entity

- 핵심 비즈니스 규칙을 표현하는 독립적인 엔티티 객체
- id로 구별이 가능하고 영구히 보관이 가능한 것들을 주로 Entity로 가짐.

### Use Case

- 수행하는 업무(일)을 가리킴.
- 즉, 실행할 수 있는 형태를 가지고 있음.
- 엔티티와 상호작용하면서 비즈니스 로직을 수행

### Interface

- 유스케이스와의 상호작용을 중재
- 클린 아키텍처에서 **세부 사항으로 취급**함.
- 이를 통해서 **변경이 일어나도 핵심인 내부는 영향을 받지 않는 구조**를 만들어낼 수 있음.
- interface라는 사실만 동일하다면 바꿔치기를 할 때 문제 발생 없이 프로그램의 변경(확장)을 이루어낼 수 있음.

## 경계

---

- 클린 아키텍처에서 가장 중요하게 생각하는 것 → **경계 부분**
- 각 계층들이 명확하게 분리가 되어있기 때문에 서로 데이터를 주고 받기 위해서는 **entity의 형태로 데이터가 경계를 넘나들어야** 함.
- 경계를 넘나드는 데이터는 항상 안쪽 원에서 사용하는 데이터의 형태이어야 함.
- Factory를 통해서 각 객체가 생성되도록 하고 validation은 factory에서 실행하도록 함.
    
    ⇒ Validation을 factory에서 진행하기 때문에 각 계층이 바뀌더라도 검증에 대한 부분은 문제 없이 진행될 수 있음.
    

## 장점

---

- 테스트와 유지 보수가 용이
    - 각 계층이 명확하게 분리되어있기 때문
- 인터페이스가 바뀌더라도 클라이언트는 그대로 사용할 수 있음.
    - 인터페이스에 대한 의존성이 없어졌기 때문
- 데이터베이스가 정해지지 않아도 다른 부분들을 개발할 수 있다는 점
    - 기존에 계층형 아키텍처가 가지던 데이터베이스에 대한 의존성이 없어졌기 때문
