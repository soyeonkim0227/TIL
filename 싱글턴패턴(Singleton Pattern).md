# 싱글턴 패턴(Singleton Pattern)

<aside>
🥕 객체의 인스턴스가 오직 1개만 생성되는 패턴

</aside>

## 구현 방법

---

a. 객체를 미리 생성해두고 가져오는 가장 단순하고 안전한 방법

1. 싱글턴 인스턴스의 저장을 위해 클래스에 비공개 정적 필드를 추가한다.
2. 싱글턴 인스턴스를 가져오기 위한 공개된 정적 생성 메서드를 선언한다.
3. 정적 메서드는 모든 후속 호출들에서 항상 해당 인스턴스를 반환해야 한다.
4. 클래스의 생성자를 비공개로 만든다. 그러면 클래스의 정적 메서드는 여전히 생성자를 호출할 수 있지만 다른 객체들은 호출할 수 없다.

```java
public class Singleton {
	
	private static Singleton instance = new Singleton(); // 1

	private Singleton() { // 4
		// 생성자는 외부에서 호출 못하게 private으로 지정해야 한다.
	}

	public static Singleton getInstance() { // 3
		return instance;
	}

	public void say() { // 2
		System.out.println("hi, there");
	}
}
```

위와 같이 인스턴스를 오직 한 개로만 가져오면 어떤 이점이 있을까?

```java
Singleton.getInstance().say();
// hi, there
```

new 연산자를 전혀 사용하지 않고도 클래스를 호출할 수 있다.

### getInstance

- 정적 메서드
- 자체 클래스의 같은 인스턴스를 반환한다.
- 싱글턴의 생성자는 항상 클라이언트 코드에서부터 숨겨져야 한다.
- `getInstance` 메서드를 호출하는 것이 `Singleton` 객체를 가져올 수 있는 유일한 방법이어야 한다.

## 사용 이유?

---

🔻 메모리 측면

- 최초 한 번의 new 연산자를 통해서 고정된 메모리 영역을 사용하기 때문에 추후 해당 객체에 접근할 때 메모리 낭비를 방지할 수 있다.

🔻 속도 측면

- 이미 생성된 인스턴스를 활용하기 때문에 속도 측면에서 이점이 있다.

🔻 클래스 간 데이터 공유

- 싱글톤 인스턴스가 전역으로 사용되는 인스턴스이기 때문에 다른 클래스의 인스턴스들이 접근하여 사용할 수 있다.

## 장단점

---

<aside>
🥕 **장점**

---

- 클래스가 하나의 인스턴스만 갖는다는 확신
- 이 인스턴스에 대한 전역 접근 지점을 얻음.
- 싱글턴 객체는 처음 요청될 때만 초기화된다.
    
    ---
    
</aside>

<aside>
🥕 **단점**

---

- 단일 책임 원칙을 위반한다. 이 패턴은 한 번에 두 가지의 문제를 동시에 해결한다.
- 이 패턴은 다중 스레드 환경에서 여러 스레드가 싱글턴 객체를 여러 번 생성하지 않도록 특별한 처리가 필요하다.
</aside>
